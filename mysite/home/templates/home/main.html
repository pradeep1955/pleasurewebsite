{% extends "base_bootstrap.html" %}
{% load static %}
{% block content %}
    <h1>Welcome to {{ settings.APP_NAME }}</h1>
    <header>
       <h1>Pradeep Chowdhary</h1>
        <p>Retired Engineer | Part-Time Web developer | Data Science explorer</p>
    </header>

    <nav>
        <li><a href="blog" target="_blank">blog</a> - A very simple view</li>
        <li><a href="blog/about" target="_blank">about</a> - A very simple view</li>
        <li><a href="ads" target="_blank">ads</a> - A very simple view</li>
        <li> <a href="polls">Polls</a></li>
        <a href="#album">Album</a>
        <a href="#contact">Contact</a>
    </nav>
         <p><h3>Disclaimer: This content is AI generated not a investment guide.</h3></p>
<!--    <div class="landing"><P>
        <img src={% static "image/waynadcoffeee2.png" %} alt="Placeholder Image">
    </p></div>-->
        <div class="landing">
        <iframe src="{% url 'stock_chart' %}" style="width:100%; height:600px; border:none;"></iframe>
        </div>

        <div class="landing">
    <h2>Today's News Summary</h2>
    <div>
        {% if news_summary %}
            {{ news_summary|safe }}
        {% else %}
            <p>No news available for today.</p>
        {% endif %}
    </div>
</div>

    


    <div id="about" class="section">
        <p><h2></h2></p>
        <h3><p><a href="https://www.pleasurewebsite.com/blog/about"> Visit about page</a></a></p>
        <p></p>

</h3><p></p>
        <p><h3></h3></p>
        <p></p>
    <p><h3></h3></p>
    <p>.</p>
    <p></p></div>
    <div id="projects" class="section">
        <h2>Projects</h2>
        <p>As I continue my journey in data science, I am working on various projects to apply my knowledge and skills. These projects include data analysis,
        machine learning models, and more. Stay tuned for updates on my latest work and accomplishments.</p>
    </div>

    <div id="album" class="section">
        <h2>Album</h2>
        <div class="album">
            <div class="folder">
                <h2>This column will bring you some beatiful photos of Bangalore</h2>
                <h2>Current Room Readings</h2>
                <h3>ðŸŒ¡ Temperature: {{ temperature|floatformat:1 }} Â°C</h3>
                <h3>ðŸ’§ Humidity: {{ humidity|floatformat:1 }} %</h3>
                <p><em>Last updated: {{ last_updated }}</em></p>
                <h3>ðŸ“Š Temperature & Humidity Chart (Last 50 Readings)</h3>
<canvas id="sensorChart" width="100%" height="40"></canvas>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
const ctx = document.getElementById('sensorChart').getContext('2d');

const sensorChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: {{ labels|safe }},
        datasets: [
            {
                label: 'ðŸŒ¡ Temperature (Â°C)',
                data: {{ temperature_data|safe }},
                borderColor: 'red',
                fill: false,
                tension: 0.3
            },
            {
                label: 'ðŸ’§ Humidity (%)',
                data: {{ humidity_data|safe }},
                borderColor: 'blue',
                fill: false,
                tension: 0.3
            }
        ]
    },
    options: {
        responsive: true,
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});
</script>

<ul>

        <li><h3>â€“</h3><h2><span style="color: red;">Bangalore</span> <span style="color: teal;">a IT hub expanding fast</span>
        <span style="color: blue;">Karnataka</span></h2><h3>India</h3></li>

</ul>

            </div>
            <div class="folder">
                <h3>Folder 2</h3>
                <img src={% static "videos/pradeep3.jpg" %} alt="Placeholder Image">
            </div>
            <div class="folder">
                <h1>Chatbot</h1>

    <div id="chatbox" style="border: 1px solid #ccc; padding: 10px; height: 300px; overflow-y: scroll;">
</div>

<form id="chat-form" action="" method="POST" style="text-align: center;">
    {% csrf_token %}
    <input type="text" name="message" id="user-input" placeholder="Type your message" required style="width: 80%;" />
    <button type="submit">Send</button>
</form>


            </div>
        </div>
    </div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
   
<script>
$(document).ready(function() {
    $('#chat-form').on('submit', function(e) {
        e.preventDefault();
        var userInput = $('#user-input').val();

        $.ajax({
            url: '/chat/',
            type: 'POST',
            contentType: 'application/json',
            data: JSON.stringify({
                'message': userInput,
            }),
            success: function(response) {
                $('#chatbox').append('<div>User: ' + userInput + '</div>');
                $('#chatbox').append('<div>Bot: ' + response.message + '</div>');
                $('#user-input').val('');
            },
            error: function(xhr, status, error) {
                console.log("Error: " + error);
                $('#chatbox').append('<div>Error communicating with the bot</div>');
            }
        });
    });
});
</script>


    <div id="contact" class="section">
        <h2>Contact</h2>
        <p>If you would like to get in touch with me, feel free to reach out via email at <a href="mailto:pradeep@example.com">pradeep@example.com</a>.
        I am always open to discussing data science, collaboration opportunities, or any other interesting topics.</p>
    </div>

    <footer>
        <p>&copy; 2024 Pradeep Chowdhary</p>
    </footer>
{% endblock content %}
